!function(t){function n(n){for(var e,o,i=n[0],a=n[1],c=0,l=[];c<i.length;c++)o=i[c],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&l.push(r[o][0]),r[o]=0;for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e]);for(u&&u(n);l.length;)l.shift()()}var e={},r={0:0};function o(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(t){var n=[],e=r[t];if(0!==e)if(e)n.push(e[2]);else{var i=new Promise((function(n,o){e=r[t]=[n,o]}));n.push(e[2]=i);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=function(t){return o.p+"js/"+({}[t]||t)+".bunde.js"}(t);var u=new Error;a=function(n){c.onerror=c.onload=null,clearTimeout(l);var e=r[t];if(0!==e){if(e){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;u.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",u.name="ChunkLoadError",u.type=o,u.request=i,e[1](u)}r[t]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(n)},o.m=t,o.c=e,o.d=function(t,n,e){o.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,n){if(1&n&&(t=o(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)o.d(e,r,function(n){return t[n]}.bind(null,r));return e},o.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(n,"a",n),n},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},o.p="/",o.oe=function(t){throw console.error(t),t};var i=window.webpackJsonp=window.webpackJsonp||[],a=i.push.bind(i);i.push=n,i=i.slice();for(var c=0;c<i.length;c++)n(i[c]);var u=a;o(o.s=0)}([function(t,n,e){"use strict";e.r(n);function r(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var e=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return e}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return o(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return o(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var i=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=document.createElement(t);return Object.entries(n).forEach((function(t){var n=r(t,2),o=n[0],i=n[1];return e.setAttribute(o,i)})),e},a=function(t,n){return new CustomEvent(t,{bubbles:!0,composed:!0,detail:n})},c="geolocation"in navigator;function u(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var e=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return e}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return l(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return l(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var s=function(t,n,e){var r;return n=e?"".concat(n,"?")+(r=e,Object.entries(r).map((function(t){var n=u(t,2),e=n[0],r=n[1];return"".concat(e,"=").concat(r)})).join("&")):n,new Promise((function(e,r){var o=!0;return fetch(n,{method:t}).then((function(t){return o=t.ok,(t.headers.get("Content-Type")||"").includes("application/json")?t.json():t.text()})).then((function(t){return o?e(t):r(t)})).catch((function(t){return r(t)}))}))},d=function(t,n){return s("GET",t,n)},f={Search:"/api/search",Location:function(t,n){return"/api/location/".concat(t,"?date=").concat(n.toISOString())}},p=function(){return new Promise((function(t,n){return new Promise((function(t,n){c?navigator.geolocation.getCurrentPosition((function(n){var e=n.coords,r=e.latitude,o=e.longitude;return t({lat:r,lng:o})}),(function(t){return n(t.code===t.PERMISSION_DENIED?"Please allow geolocation":"Failed to retreive your current position")})):n("Geolocation not supported.")})).then((function(t){var n=t.lat,e=t.lng;return d(f.Search,{lattlong:[n,e].join(",")})})).then((function(e){var r=e[0];return r?t(r):n("Couldn't find your current location")})).catch(n)}))};function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,n){return!n||"object"!==h(n)&&"function"!=typeof n?m(t):n}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t){var n="function"==typeof Map?new Map:void 0;return(v=function(t){if(null===t||(e=t,-1===Function.toString.call(e).indexOf("[native code]")))return t;var e;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,r)}function r(){return g(t,arguments,C(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),x(r,t)})(t)}function g(t,n,e){return(g=w()?Reflect.construct:function(t,n,e){var r=[null];r.push.apply(r,n);var o=new(Function.bind.apply(t,r));return e&&x(o,e.prototype),o}).apply(null,arguments)}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function x(t,n){return(x=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function k(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var O=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&x(t,n)}(u,t);var n,e,r,o,a,c=(n=u,e=w(),function(){var t,r=C(n);if(e){var o=C(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return b(this,t)});function u(){var t;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,u),k(m(t=c.call(this)),"date",new Date),k(m(t),"selectedCity",null),k(m(t),"shadow",t.attachShadow({mode:"open"})),k(m(t),"container",i("div",{class:"container"})),k(m(t),"style",i("style")),k(m(t),"cityPreview",i("weather-preview",{date:t.date})),k(m(t),"cityList",i("location-list")),k(m(t),"errorBlock",i("div",{class:"error-block"})),k(m(t),"handleLocationChange",(function(n){var e=n.detail,r=e.id,o=e.title;t.updateCity({id:r,title:o})})),k(m(t),"handleDateChange",(function(n){var e=n.detail.date;t.cityPreview.setAttribute("date",e)})),k(m(t),"handleDisplayError",(function(n){var e=n.detail.error;t.displayError(e)})),k(m(t),"errorTimeout",null),k(m(t),"displayError",(function(n){t.loaded(),clearTimeout(t.errorTimeout),t.errorBlock.textContent=n,setTimeout((function(){t.errorBlock.textContent=""}),3e3)})),t.mountElements(),t.loading(),t}return r=u,(o=[{key:"mountElements",value:function(){this.style.textContent="\n    @keyframes spin {\n        from {\n            transform: rotate(0deg);\n        }\n        to {\n            transform: rotate(360deg);\n        }\n    }\n\n    * {\n        box-sizing: border-box;\n    }\n\n    .container {\n        display: flex;\n        flex-direction: column;\n        max-width: 100%;\n        width: 800px;\n        padding: 12px;\n        min-height: 400px;\n        margin: 80px auto;\n        background: #fff;\n        position: relative;\n        box-shadow: 0 1px 0 0 #d7d8db,0 0 0 1px #e3e4e8;\n    }\n    .container[aria-busy=\"true\"]:before {\n        content: '';\n        display: block;\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        top: 0;\n        left: 0;\n        background: rgba(255, 255, 255, .72);\n    }\n    .container[aria-busy=\"true\"]:after {\n        content: '';\n        display: block;\n        width: 32px;\n        height: 32px;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        margin: -16px 0 0 -16px;\n        border: 3px solid rgb(81, 129, 184);\n        border-top-color: transparent;\n        border-radius: 50%;\n        animation: spin 2s infinite linear;\n    }\n\n    .error-block {\n        visibility: visible;\n        opacity: 1;\n        display: block;\n        position: absolute;\n        min-width: 120px;\n        min-height: 46px;\n        top: 20%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        padding: 12px;\n        border-radius: 4px;\n        background: rgba(0, 0, 0, .72);\n        text-align: center;\n        font-size: 1.8rem;\n        color: #fff;\n        transition: all .2s ease-in-out;\n    }\n\n    .error-block:empty{\n        visibility: hidden;\n        top: 0%;\n        transition: all .2s ease-in-out;\n        opacity: 0;\n    }\n",this.container.appendChild(this.cityPreview),this.container.appendChild(this.cityList),this.container.appendChild(this.errorBlock),this.shadow.appendChild(this.container),this.shadow.appendChild(this.style),this.addEventListener("select:location",this.handleLocationChange),this.addEventListener("change:date",this.handleDateChange),this.addEventListener("display:error",this.handleDisplayError)}},{key:"loading",value:function(){this.container.setAttribute("aria-busy",!0)}},{key:"loaded",value:function(){this.container.setAttribute("aria-busy",!1)}},{key:"updateCity",value:function(t){var n=t.id,e=t.title;this.cityPreview.setAttribute("location-id",n),this.cityPreview.setAttribute("location-title",e),this.cityList.setAttribute("selected-location",n)}},{key:"appendCityToList",value:function(t){var n=t.id,e=t.title;this.cityList.appendCity({id:n,title:e})}},{key:"connectedCallback",value:function(){var t=this;p().then((function(n){t.loaded(),t.appendCityToList(n),t.updateCity(n)})).catch(this.displayError)}}])&&y(r.prototype,o),a&&y(r,a),u}(v(HTMLElement));function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function j(t,n,e){return n&&E(t.prototype,n),e&&E(t,e),t}function _(t,n){return!n||"object"!==S(n)&&"function"!=typeof n?P(t):n}function P(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A(t){var n="function"==typeof Map?new Map:void 0;return(A=function(t){if(null===t||(e=t,-1===Function.toString.call(e).indexOf("[native code]")))return t;var e;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,r)}function r(){return T(t,arguments,L(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),D(r,t)})(t)}function T(t,n,e){return(T=R()?Reflect.construct:function(t,n,e){var r=[null];r.push.apply(r,n);var o=new(Function.bind.apply(t,r));return e&&D(o,e.prototype),o}).apply(null,arguments)}function R(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function D(t,n){return(D=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function L(t){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function B(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var M=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&D(t,n)}(o,t);var n,e,r=(n=o,e=R(),function(){var t,r=L(n);if(e){var o=L(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return _(this,t)});function o(){var t;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),B(P(t=r.call(this)),"shadow",t.attachShadow({mode:"open"})),B(P(t),"container",i("div",{class:"container"})),B(P(t),"locationTitle",i("h1",{class:"location-title"})),B(P(t),"dateContainer",i("div",{class:"date-container"})),B(P(t),"date",i("span",{class:"date"})),B(P(t),"datePicker",i("ui5-datepicker")),B(P(t),"openDatePickerBtn",i("button",{class:"date-button"})),B(P(t),"temperature",i("weather-preview-box",{fieldname:"°C"})),B(P(t),"weatherCondition",i("weather-preview-box",{fieldname:""})),B(P(t),"windDirection",i("weather-preview-box",{fieldname:""})),B(P(t),"style",i("style")),B(P(t),"handleDateChange",(function(n){var e=n.detail.value;t.dispatchEvent(a("change:date",{date:new Date(e)}))})),B(P(t),"handleDateBtnClick",(function(){t.datePicker.openPicker({focusInput:!1})})),t.mountElements(),t}return j(o,null,[{key:"observedAttributes",get:function(){return["location-title","location-id","date"]}}]),j(o,[{key:"mountElements",value:function(){this.style.textContent="\n    @keyframes spin {\n        from {\n            transform: rotate(0deg);\n        }\n        to {\n            transform: rotate(360deg);\n        }\n    }\n\n    :host {\n        box-sizing: border-box;\n        display: block;\n        margin: -12px -12px 0 -12px;\n        width: calc( 100% + 24px );\n    }\n\n    .container {\n        background: linear-gradient(to bottom, #4096ee 0%, #7abcff 100%);\n        padding: 12px;\n        color: #fff;\n    }\n    .container[aria-busy=\"true\"]:after {\n        content: '';\n        display: block;\n        width: 12px;\n        height: 12px;\n        position: absolute;\n        top: 12px;\n        right: 12px;\n        border: 2px solid #fff;\n        border-top-color: transparent;\n        border-radius: 50%;\n        animation: spin 2s infinite linear;\n    }\n\n    .location-title {\n        margin: 0 0 6px;\n        font-weight: normal;\n        font-size: 2.6rem;\n    }\n    \n    .location-title:empty:before {\n        content: '---';\n    }\n    \n    .date {\n        font-size: 1.8rem;\n        opacity: .82;\n        position: relative;\n        z-index: 1;\n    }\n\n    .date-button{\n        background: url('/assets/images/calendar.svg') no-repeat center center;\n        height: 24px;\n        width: 24px;\n        border: none;\n        border-radius: 0;\n        background-size: 100% auto;\n        filter: brightness(0) invert(1);\n        cursor: pointer;\n    }\n\n    .date-container {\n        display: flex;\n        align-items: center;\n        margin: 0 0 6px;\n    }\n\n    .date:empty:before {\n        content: '---';\n    }\n\n    .weather-boxes {\n        border-top: 1px solid rgba(255, 255, 255, 0.12);\n        display: flex;\n        margin: 24px 0 0;\n        justify-content: stretch;\n    }\n\n    ui5-datepicker {\n        margin: 0 0 0 -50px;\n        font-size: 1.6rem;\n        --_ui5_input_width: 0px;\n        --sapField_Background: transparent;\n        --sapField_BorderColor: transparent;\n        --sapField_Hover_BorderColor: transparent;\n        --sapField_Hover_Background: transparent;\n        --sapFontSize: 0px;\n        --sapField_TextColor: transparent;\n        --sapContent_IconColor: transparent;\n        --sapButton_Selected_Background: transparent;\n        --sapButton_Active_TextColor: transparent;\n        --sapButton_Active_Background: transparent;\n        --sapButton_Lite_Hover_Background: transparent;\n    }\n",this.shadow.appendChild(this.style);var t=i("div",{class:"weather-boxes"});t.appendChild(this.temperature),t.appendChild(this.weatherCondition),t.appendChild(this.windDirection),this.container.appendChild(this.locationTitle),this.dateContainer.appendChild(this.date),this.dateContainer.appendChild(this.datePicker),this.dateContainer.appendChild(this.openDatePickerBtn),this.openDatePickerBtn.addEventListener("click",this.handleDateBtnClick),this.container.appendChild(this.dateContainer),this.container.appendChild(t),this.shadow.appendChild(this.container),this.datePicker.addEventListener("change",this.handleDateChange)}},{key:"loading",value:function(){this.container.setAttribute("aria-busy",!0),this.temperature.removeAttribute("fieldvalue",""),this.weatherCondition.setAttribute("fieldname",""),this.weatherCondition.removeAttribute("icon",""),this.windDirection.setAttribute("fieldname",""),this.windDirection.removeAttribute("direction")}},{key:"loaded",value:function(){this.container.setAttribute("aria-busy",!1)}},{key:"updateCityWeather",value:function(){var t=this,n=this.getAttribute("location-id"),e=this.getAttribute("date");n&&e&&(this.loading(),function(t,n){return new Promise((function(e,r){d(f.Location(t,n)).then((function(t){return e(t)})).catch(r)}))}(n,new Date(e)).then((function(n){var e=n.temp,r=n.condition,o=n.icon,i=n.windDirection;t.temperature.setAttribute("fieldvalue",e),t.weatherCondition.setAttribute("fieldname",r),t.weatherCondition.setAttribute("icon",o),t.windDirection.setAttribute("fieldname",i),t.windDirection.setAttribute("direction",i),t.loaded()})).catch((function(n){t.loaded(),t.dispatchEvent(a("display:error",{error:n}))})))}},{key:"updateDate",value:function(t){this.date.textContent=new Date(t).toLocaleDateString("default",{day:"numeric",month:"short"})}},{key:"attributeChangedCallback",value:function(t,n,e){switch(t){case"location-id":this.updateCityWeather();break;case"location-title":this.locationTitle.textContent=e;break;case"date":this.updateDate(e),this.updateCityWeather()}}}]),o}(A(HTMLElement));function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function I(t,n,e){return n&&F(t.prototype,n),e&&F(t,e),t}function N(t,n){return!n||"object"!==z(n)&&"function"!=typeof n?W(t):n}function W(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H(t){var n="function"==typeof Map?new Map:void 0;return(H=function(t){if(null===t||(e=t,-1===Function.toString.call(e).indexOf("[native code]")))return t;var e;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,r)}function r(){return V(t,arguments,J(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),G(r,t)})(t)}function V(t,n,e){return(V=q()?Reflect.construct:function(t,n,e){var r=[null];r.push.apply(r,n);var o=new(Function.bind.apply(t,r));return e&&G(o,e.prototype),o}).apply(null,arguments)}function q(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function G(t,n){return(G=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function J(t){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function U(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var $=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&G(t,n)}(o,t);var n,e,r=(n=o,e=q(),function(){var t,r=J(n);if(e){var o=J(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return N(this,t)});function o(){var t;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),U(W(t=r.call(this)),"shadow",t.attachShadow({mode:"open"})),U(W(t),"container",i("div",{class:"container"})),U(W(t),"style",i("style")),U(W(t),"fieldName",i("span",{class:"fieldname"})),U(W(t),"fieldValue",i("span",{class:"fieldvalue"})),U(W(t),"icon",i("img",{class:"icon"})),U(W(t),"windDirection",i("span",{class:"wind-direction"})),t.mountElements(),t}return I(o,null,[{key:"observedAttributes",get:function(){return["fieldname","fieldvalue","icon","direction"]}}]),I(o,[{key:"mountElements",value:function(){this.style.textContent='\n    :host {\n        box-sizing: border-box;\n        display: block;\n        flex-basis: 33%;\n        min-height: 95px;\n        text-align: center;\n        padding: 12px;\n    }\n\n    .container {\n    }\n\n    .fieldname {\n        font-size: 1.8rem;\n        display: block;\n        margin: 0 0 12px;\n    }\n\n    .fieldname:empty:before {\n        content: \'---\';\n    }\n\n    .fieldvalue {\n        font-size: 2.2rem;\n    }\n\n    .icon {\n        max-width: 32px;\n        max-height: 32px;\n        filter: brightness(0) invert(1);\n    }\n\n    .wind-direction {\n        display: inline-block;\n        font-size: 3.2rem;\n    }\n\n    .wind-direction[direction]:before {\n        content: \'↑\';\n    }\n    .wind-direction[direction="N"] {\n        transform: rotate(0deg);\n    }\n    .wind-direction[direction="NNE"] {\n        transform: rotate(22.5deg);\n    }\n    .wind-direction[direction="NE"] {\n        transform: rotate(45deg);\n    }\n    .wind-direction[direction="ENE"] {\n        transform: rotate(67.5deg);\n    }\n    .wind-direction[direction="E"] {\n        transform: rotate(90deg);\n    }\n    .wind-direction[direction="ESE"] {\n        transform: rotate(112.5deg);\n    }\n    .wind-direction[direction="SE"] {\n        transform: rotate(135deg);\n    }    \n    .wind-direction[direction="SSE"] {\n        transform: rotate(157.5deg);\n    }\n    .wind-direction[direction="S"] {\n        transform: rotate(180deg);\n    }\n    .wind-direction[direction="SSW"] {\n        transform: rotate(202.5deg);\n    }\n    .wind-direction[direction="SW"] {\n        transform: rotate(225deg);\n    }\n    .wind-direction[direction="WSW"] {\n        transform: rotate(247.5deg);\n    }\n    .wind-direction[direction="W"] {\n        transform: rotate(270deg);\n    }\n    .wind-direction[direction="WNW"] {\n        transform: rotate(292.5deg);\n    }\n    .wind-direction[direction="NW"] {\n        transform: rotate(315deg);\n    }\n    .wind-direction[direction="NNW"] {\n        transform: rotate(337.5deg);\n    }\n\n',this.container.appendChild(this.fieldName),this.container.appendChild(this.fieldValue),this.container.appendChild(this.icon),this.container.appendChild(this.windDirection),this.shadow.appendChild(this.style),this.shadow.appendChild(this.container)}},{key:"updateIcon",value:function(t){t?this.icon.src="https://www.metaweather.com/static/img/weather/".concat(t,".svg"):this.icon.removeAttribute("src")}},{key:"updateWindDirection",value:function(t){t?this.windDirection.setAttribute("direction",t):this.windDirection.removeAttribute("direction")}},{key:"updateTemperature",value:function(t){var n=Number(t),e=!t||Number.isNaN(t)?"":n.toFixed(2);this.fieldValue.textContent=e}},{key:"attributeChangedCallback",value:function(t,n,e){switch(t){case"fieldname":this.fieldName.textContent=e;break;case"fieldvalue":this.updateTemperature(e);break;case"icon":this.updateIcon(e);break;case"direction":this.updateWindDirection(e)}}}]),o}(H(HTMLElement));function K(t){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Q(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function X(t,n,e){return n&&Q(t.prototype,n),e&&Q(t,e),t}function Y(t,n){return!n||"object"!==K(n)&&"function"!=typeof n?Z(t):n}function Z(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tt(t){var n="function"==typeof Map?new Map:void 0;return(tt=function(t){if(null===t||(e=t,-1===Function.toString.call(e).indexOf("[native code]")))return t;var e;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,r)}function r(){return nt(t,arguments,ot(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),rt(r,t)})(t)}function nt(t,n,e){return(nt=et()?Reflect.construct:function(t,n,e){var r=[null];r.push.apply(r,n);var o=new(Function.bind.apply(t,r));return e&&rt(o,e.prototype),o}).apply(null,arguments)}function et(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function rt(t,n){return(rt=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function ot(t){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function it(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var at=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&rt(t,n)}(o,t);var n,e,r=(n=o,e=et(),function(){var t,r=ot(n);if(e){var o=ot(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Y(this,t)});function o(){var t;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),it(Z(t=r.call(this)),"locationMap",{}),it(Z(t),"shadow",t.attachShadow({mode:"open"})),it(Z(t),"style",i("style")),it(Z(t),"container",i("div",{class:"container"})),it(Z(t),"listContainer",i("div",{class:"list"})),it(Z(t),"addCityButton",i("button",{class:"add-city"})),it(Z(t),"addCityForm",i("add-location",{"aria-hidden":!0})),it(Z(t),"handleAddCityClick",(function(){t.addCityForm.setAttribute("aria-hidden",!1)})),it(Z(t),"handleAppendLocation",(function(n){var e=n.detail,r=e.id,o=e.title;t.locationMap[r]||t.appendCity({id:r,title:o}),t.dispatchEvent(a("select:location",{id:r,title:o}))})),it(Z(t),"handleLocationRemove",(function(n){var e=n.detail.id,r=t.locationMap[e];t.locationMap[e]=void 0,r.remove()})),t.mountElements(),t}return X(o,null,[{key:"observedAttributes",get:function(){return["selected-location"]}}]),X(o,[{key:"appendCity",value:function(t){var n=t.id,e=t.title,r=i("location-list-item",{"location-id":n,"location-title":e});this.listContainer.prepend(r),this.locationMap[n]=r}},{key:"mountElements",value:function(){this.style.textContent="\n    :host {\n        box-sizing: border-box;\n        display: flex;\n        flex-grow: 1;\n        margin: 0 -12px -12px -12px;\n    }\n\n    .container {\n        display: flex;\n        flex-grow: 1;\n        flex-direction: column;\n        justify-content: space-between;\n    }\n\n    .add-city {\n        display: block;\n        background: #f6f5f4;\n        padding: 12px;\n        border-radius: 0;\n        border: none;\n        text-align: center;\n        font-size: 1.6rem;\n    }\n\n    .add-city:hover{\n        background: #7abcff;\n        color: #fff;\n    }\n",this.addCityButton.textContent="Add new city",this.addCityButton.addEventListener("click",this.handleAddCityClick),this.shadow.appendChild(this.style),this.container.appendChild(this.listContainer),this.container.appendChild(this.addCityButton),this.container.appendChild(this.addCityForm),this.shadow.appendChild(this.container),this.addEventListener("append:location",this.handleAppendLocation),this.addEventListener("remove:location",this.handleLocationRemove)}},{key:"updateActiveListItem",value:function(t,n){var e=this.locationMap[t];e&&(e.active=!0);var r=this.locationMap[n];r&&(r.active=!1)}},{key:"attributeChangedCallback",value:function(t,n,e){switch(t){case"selected-location":this.updateActiveListItem(e,n)}}},{key:"active",set:function(t){this.button.setAttribute("aria-active",t)}}]),o}(tt(HTMLElement));function ct(t){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ut(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lt(t,n,e){return n&&ut(t.prototype,n),e&&ut(t,e),t}function st(t,n){return!n||"object"!==ct(n)&&"function"!=typeof n?dt(t):n}function dt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ft(t){var n="function"==typeof Map?new Map:void 0;return(ft=function(t){if(null===t||(e=t,-1===Function.toString.call(e).indexOf("[native code]")))return t;var e;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,r)}function r(){return pt(t,arguments,bt(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),yt(r,t)})(t)}function pt(t,n,e){return(pt=ht()?Reflect.construct:function(t,n,e){var r=[null];r.push.apply(r,n);var o=new(Function.bind.apply(t,r));return e&&yt(o,e.prototype),o}).apply(null,arguments)}function ht(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function yt(t,n){return(yt=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function bt(t){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mt(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var vt=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&yt(t,n)}(o,t);var n,e,r=(n=o,e=ht(),function(){var t,r=bt(n);if(e){var o=bt(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return st(this,t)});function o(){var t;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),mt(dt(t=r.call(this)),"locationId",null),mt(dt(t),"locationTitle",null),mt(dt(t),"shadow",t.attachShadow({mode:"open"})),mt(dt(t),"style",i("style")),mt(dt(t),"container",i("div",{class:"container"})),mt(dt(t),"selectButton",i("button",{class:"btn btn-select"})),mt(dt(t),"removeButton",i("button",{class:"btn btn-remove"})),mt(dt(t),"handleSelection",(function(n){t.dispatchEvent(a("select:location",{id:t.locationId,title:t.locationTitle}))})),mt(dt(t),"handleRemoval",(function(n){t.dispatchEvent(a("remove:location",{id:t.locationId}))})),t.mountElements(),t}return lt(o,null,[{key:"observedAttributes",get:function(){return["location-title","location-id"]}}]),lt(o,[{key:"mountElements",value:function(){this.style.textContent="\n    :host {\n        box-sizing: border-box;\n        display: block;\n    }\n\n    .container {\n        display: flex;\n    }\n\n    .btn {\n        display: block;\n        cursor: pointer;\n        width: 100%;\n        color: rgba(0, 0, 0, .72);\n        background: #fcfcfc;\n        border: none;\n        border-radius: 0;\n        padding: 12px;\n        font-size: 1.8rem;\n        text-align: left;\n        transition: all .2s ease-out;\n    }\n\n    .btn:hover:not(.btn-remove) {\n        background: #7abcff;\n    }\n    .container[aria-active=\"true\"] .btn:not(.btn-remove) {\n        background: #60abf7;\n        color: #fff;\n        pointer-events: none;\n        cursor: initial;\n    }\n\n    .btn-remove {\n        flex-basis: 0;\n        max-width: 0px;\n        padding: 0;\n        background: #ef5350;\n        text-align: center;\n        font-weight: bold;\n        color: #fff;\n        font-size: 2rem;\n        overflow: hidden;\n    }\n\n    .btn-remove:hover {\n        background: #f44336;\n    }\n\n    .btn-remove:before {\n        content: '⨯';\n    }\n\n    .container:hover .btn-remove {\n        flex-basis: 64px;\n        max-width: 64px;\n        transition: all .2s ease-in;\n    }\n",this.shadow.appendChild(this.style),this.container.appendChild(this.selectButton),this.container.appendChild(this.removeButton),this.shadow.appendChild(this.container),this.selectButton.addEventListener("click",this.handleSelection),this.removeButton.addEventListener("click",this.handleRemoval)}},{key:"attributeChangedCallback",value:function(t,n,e){switch(t){case"location-title":this.locationTitle=e,this.selectButton.textContent=e;break;case"location-id":this.locationId=e}}},{key:"active",set:function(t){this.container.setAttribute("aria-active",t)}}]),o}(ft(HTMLElement));function gt(t){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wt(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xt(t,n,e){return n&&wt(t.prototype,n),e&&wt(t,e),t}function Ct(t,n){return!n||"object"!==gt(n)&&"function"!=typeof n?kt(t):n}function kt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ot(t){var n="function"==typeof Map?new Map:void 0;return(Ot=function(t){if(null===t||(e=t,-1===Function.toString.call(e).indexOf("[native code]")))return t;var e;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,r)}function r(){return St(t,arguments,_t(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),jt(r,t)})(t)}function St(t,n,e){return(St=Et()?Reflect.construct:function(t,n,e){var r=[null];r.push.apply(r,n);var o=new(Function.bind.apply(t,r));return e&&jt(o,e.prototype),o}).apply(null,arguments)}function Et(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function jt(t,n){return(jt=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function _t(t){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pt(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var At=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&jt(t,n)}(o,t);var n,e,r=(n=o,e=Et(),function(){var t,r=_t(n);if(e){var o=_t(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Ct(this,t)});function o(){var t;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),Pt(kt(t=r.call(this)),"shadow",t.attachShadow({mode:"open"})),Pt(kt(t),"style",i("style")),Pt(kt(t),"container",i("div",{class:"container"})),Pt(kt(t),"searchContainer",i("div",{class:"list"})),Pt(kt(t),"resultsContainer",i("div",{class:"results"})),Pt(kt(t),"addCityButton",i("button",{class:"cancel"})),Pt(kt(t),"input",i("input",{type:"text",class:"input",placeholder:"Search for a location..."})),Pt(kt(t),"hide",(function(){t.setAttribute("aria-hidden",!0),t.input.value="",t.displayResults([])})),Pt(kt(t),"debounceTimeout",null),Pt(kt(t),"handleInputChange",(function(n){var e=n.currentTarget.value;clearTimeout(t.debounceTimeout),t.debounceTimeout=setTimeout((function(){var n;e.length>1?(n=e,new Promise((function(t,e){d(f.Search,{query:n}).then((function(n){return t(n)})).catch(e)}))).then(t.displayResults):t.displayResults([])}),[400])})),Pt(kt(t),"handleResultClick",(function(n){var e=n.currentTarget,r=e.getAttribute("id"),o=e.getAttribute("title");t.dispatchEvent(a("append:location",{id:r,title:o})),t.hide()})),Pt(kt(t),"displayResults",(function(n){t.resultsContainer.innerHTML="";var e=document.createDocumentFragment();n.forEach((function(n){var r=n.title,o=n.id,a=i("button",{class:"result",id:o,title:r});a.addEventListener("click",t.handleResultClick),a.textContent=r,e.appendChild(a)})),t.resultsContainer.appendChild(e)})),t.mountElements(),t}return xt(o,null,[{key:"observedAttributes",get:function(){return["aria-hidden"]}}]),xt(o,[{key:"mountElements",value:function(){this.input.addEventListener("input",this.handleInputChange),this.style.textContent="\n    :host {\n        box-sizing: border-box;\n        display: flex;\n        flex-direction: column;\n        position: absolute;\n        left: 0;\n        top: 0;\n        background: #edeef0;\n        width: 100%;\n        height: 100%;\n        z-index: 2;\n    }\n    :host([aria-hidden=\"true\"]) {\n        display: none;\n    }\n\n    .container {\n        display: flex;\n        flex-direction: column;\n        flex-grow: 1;\n        justify-content: space-between;\n    }\n    \n    .cancel {\n        display: block;\n        width: 100%;\n        background: #f6f5f4;\n        padding: 12px;\n        border-radius: 0;\n        border: none;\n        text-align: center;\n        font-size: 1.6rem;\n    }\n\n    .cancel:hover{\n        background: #7abcff;\n        padding: 12px;\n        color: #fff;\n    }\n\n    .result {\n        cursor: pointer;\n        display: block;\n        font-size: 1.8rem;\n        text-align: center;\n        width: 100%;\n        border-radius: 0;\n        border: none;\n        background: #daeafb;\n        color: rgba(0, 0, 0, .72);\n        border-bottom: 1px solid rgba(255, 255, 255, .12);\n        padding: 12px;\n    }\n    \n    .result:hover {\n        background: #7abcff;\n    }\n\n    .results:empty:before {\n        font-size: 1.8rem;\n        opacity: .52;\n        display: block;\n        content: 'No results';\n        text-align: center;\n        margin: 32px;\n    }\n\n    .input {\n        width: 100%;\n        border-radius: 0;\n        border: none;\n        font-size: 1.6rem;\n        line-height: 5.2rem;\n        padding: 0px 12px;\n        box-sizing: border-box;\n    }\n",this.addCityButton.textContent="Cancel",this.addCityButton.addEventListener("click",this.hide),this.shadow.appendChild(this.style),this.searchContainer.appendChild(this.input),this.searchContainer.appendChild(this.resultsContainer),this.container.appendChild(this.searchContainer),this.container.appendChild(this.addCityButton),this.shadow.appendChild(this.container)}},{key:"attributeChangedCallback",value:function(t,n,e){switch(t){case"aria-hidden":"false"===e&&this.input.focus()}}}]),o}(Ot(HTMLElement));customElements.define("weather-app",O),customElements.define("weather-preview",M),customElements.define("weather-preview-box",$),customElements.define("location-list",at),customElements.define("location-list-item",vt),customElements.define("add-location",At),e.e(1).then(e.bind(null,1))}]);